<%= turbo_stream.replace "rubric-status-cell" do %>
  <td id="rubric-status-cell">
    <span id="rubric-status" class="badge <%= rubric.status == 'complete' ? 'badge-green' : (rubric.status == 'failed' ? 'badge-red' : 'badge-blue') %>">
      <%= rubric.status %>
    </span>
  </td>
<% end %>

<%= turbo_stream.replace "rubric-display-status-cell" do %>
  <td id="rubric-display-status-cell">
    <span id="rubric-display-status" class="badge <%= rubric.display_status == 'completed' ? 'badge-green' : (rubric.display_status == 'failed' ? 'badge-red' : 'badge-blue') %>">
      <%= rubric.display_status %>
    </span>
  </td>
<% end %>

<%= turbo_stream.replace "rubric-updated-at" do %>
  <td id="rubric-updated-at"><%= rubric.updated_at.strftime("%Y-%m-%d %H:%M:%S") %></td>
<% end %>

<%= turbo_stream.replace "debug-badge-container" do %>
  <div id="debug-badge-container" class="mt-4">
    <h3 class="text-lg font-semibold mb-2">Status Badge Test</h3>
    <div id="rubric_status_badge_<%= rubric.id %>" class="inline-block">
      <%= render partial: 'shared/status_badge', locals: { 
        status: rubric.display_status, 
        size: 'md',
        hide_processing_spinner: false
      } %>
    </div>
  </div>
<% end %>

<%= turbo_stream.append "event-log-entries" do %>
  <li>Status updated to <strong><%= rubric.status %></strong> at <%= Time.current.strftime("%H:%M:%S") %></li>
<% end %> 