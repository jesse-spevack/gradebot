<%#
  Renders a testimonial with avatar, name, title, and quote
  
  Required parameters:
  - name: The name of the person giving the testimonial
  - title: The job title or role of the person
  - quote: The testimonial text
  
  Optional parameters:
  - initials: The initials to display in the avatar (default: first letters of first and last name)
  - container_classes: Additional classes for the container (default: "bg-white p-6 rounded-lg shadow-md")
%>

<%
  container_classes = local_assigns[:container_classes] || "bg-white p-6 rounded-lg shadow-md"
  
  # Generate initials if not provided
  if local_assigns[:initials].nil?
    name_parts = name.split
    initials = name_parts.size > 1 ? "#{name_parts.first[0]}#{name_parts.last[0]}" : name_parts.first[0]
  else
    initials = local_assigns[:initials]
  end
%>

<div class="<%= container_classes %>">
  <div class="flex items-center mb-4">
    <div class="w-12 h-12 bg-indigo-200 rounded-full flex items-center justify-center mr-4">
      <span class="text-indigo-700 font-semibold"><%= initials %></span>
    </div>
    <div>
      <h4 class="font-semibold"><%= name %></h4>
      <p class="text-gray-600 text-sm"><%= title %></p>
    </div>
  </div>
  <p class="text-gray-700">"<%= quote %>"</p>
</div> 